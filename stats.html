<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>الإحصائيات - LV12</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 font-sans text-gray-800 flex">
<aside class="w-64 bg-white shadow-lg h-screen fixed left-0">
  <div class="p-6 border-b">
    <h1 class="text-2xl font-bold text-blue-600">LV12</h1>
  </div>
  <nav class="p-6 space-y-4">
    <a href="customers.html" class="block py-2 px-4 rounded hover:bg-blue-100">👥 العملاء</a>
    <a href="maintenance.html" class="block py-2 px-4 rounded hover:bg-blue-100">🛠️ صيانة العملاء</a>
    <a href="store.html" class="block py-2 px-4 rounded hover:bg-blue-100">📦 المخزن</a>
    <a href="sales.html" class="block py-2 px-4 rounded hover:bg-blue-100">💳 المبيعات</a>
    <a href="salaries.html" class="block py-2 px-4 rounded hover:bg-blue-100">💰 الرواتب</a>
    <a href="stats.html" class="block py-2 px-4 rounded hover:bg-blue-100">📊 الإحصائيات</a>
    <a href="consumables.html" class="block py-2 px-4 rounded bg-blue-600 text-white">🧾 المستهلكات</a>
  </nav>
</aside>

  <!-- المحتوى -->
  <main class="flex-1 ml-64 p-10">
    <h2 class="text-3xl font-bold text-gray-700 mb-6">📊 الإحصائيات والتقارير</h2>

    <!-- إحصائيات عامة -->
    <div class="grid md:grid-cols-4 gap-6 mb-10">
      <div class="bg-white p-6 rounded-xl shadow text-center">
        <h3 class="text-gray-500">📦 المخزون</h3>
        <p class="text-2xl font-bold text-blue-600">120 جهاز</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow text-center">
        <h3 class="text-gray-500">💰 الأرباح</h3>
        <p class="text-2xl font-bold text-green-600">250,000 ج.م</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow text-center">
        <h3 class="text-gray-500">👥 العملاء</h3>
        <p class="text-2xl font-bold text-purple-600">560 عميل</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow text-center">
        <h3 class="text-gray-500">🛠️ الصيانة</h3>
        <p class="text-2xl font-bold text-orange-600">320 عملية</p>
      </div>
    </div>

    <!-- الرسوم البيانية -->
    <div class="grid md:grid-cols-2 gap-8">
      <!-- رسم بياني المبيعات الشهرية -->
      <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-lg font-semibold mb-4">📈 المبيعات الشهرية</h3>
        <canvas id="salesChart"></canvas>
      </div>

      <!-- رسم بياني العملاء -->
      <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-lg font-semibold mb-4">👥 توزيع العملاء</h3>
        <canvas id="customersChart"></canvas>
      </div>
    </div>
  </main>

  <script>
    // المبيعات الشهرية
    const salesCtx = document.getElementById('salesChart').getContext('2d');
    new Chart(salesCtx, {
      type: 'line',
      data: {
        labels: ['يناير', 'فبراير', 'مارس', 'إبريل', 'مايو', 'يونيو'],
        datasets: [{
          label: 'المبيعات (جنيه)',
          data: [12000, 19000, 15000, 22000, 30000, 28000],
          borderColor: 'rgba(37, 99, 235, 1)',
          backgroundColor: 'rgba(37, 99, 235, 0.2)',
          borderWidth: 2,
          fill: true,
          tension: 0.3
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false } }
      }
    });

    // توزيع العملاء
    const customersCtx = document.getElementById('customersChart').getContext('2d');
    new Chart(customersCtx, {
      type: 'doughnut',
      data: {
        labels: ['كاش', 'أقساط', 'مجاني', 'خارجي'],
        datasets: [{
          data: [300, 150, 50, 60],
          backgroundColor: [
            'rgba(34,197,94,0.7)', // أخضر
            'rgba(59,130,246,0.7)', // أزرق
            'rgba(250,204,21,0.7)', // أصفر
            'rgba(239,68,68,0.7)'  // أحمر
          ],
          borderColor: ['#fff'],
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { position: 'bottom' } }
      }
    });
  </script>
</body>
</html>
